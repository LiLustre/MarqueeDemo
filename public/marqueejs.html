<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    *{

        margin:0;

        padding:0;

    }

    .box{

        margin-left: 200px;

        margin-top: 100px;

        color: #FFF;

        white-space: nowrap;

        overflow: hidden;

        width: 300px;

        background: #000;

    }

    .content p{

        display:inline-block;

    }

    .content p.padding{

        padding-right: 300px;

    }
</style>
<body>
<div class="box">

    <div class="content">
        <p class="text">11111111111111111111。</p>
        <p class="text">222222222。</p>
        <p class="text">33333333333333。</p>
    </div>

</div>
</body>
<script>
    let [box, content, text] = [

        document.querySelector('.box'),

        document.querySelector('.content'),

        document.querySelector('.text')

    ]

    let [textWidth, boxWidth] = [

        text.offsetWidth,

        box.offsetWidth

    ]
    var boxScrollLeft ;
    window.onload=function checkScrollLeft(){

        // 判断文字长度是否大于盒子长度
        console.log("textWidth1="+textWidth);
        console.log("boxWidth"+boxWidth);
       // if(boxWidth > textWidth){ return false}

        //content.innerHTML += content.innerHTML

        document.querySelector('.text').classList.add('padding')

        // 更新

        textWidth = document.querySelector('.text').offsetWidth
        console.log("textWidth2="+textWidth);
        boxScrollLeft = box.scrollLeft;
        toScrollLeft()

    }

    function toScrollLeft(){

        //  如果文字长度大于滚动条距离，则递归拖动

        if(textWidth >= box.scrollLeft){
            console.log("boxScrollLeft11="+box.scrollLeft);
            console.log("textWidth="+textWidth);
            box.scrollLeft++
            //console.log("box.scrollLeft="+box.scrollLeft);
            setTimeout('toScrollLeft()', 18);

        }else {
            console.log("boxScrollLef2");

            box.scrollLeft(boxScrollLeft)
            //console.log("box.scrollLeft="+box.scrollLeft);
            setTimeout('toScrollLeft()', 18);

        }

       // else{

            // setTimeout("fun2()",2000);

      //  }

    }



</script>
</html>